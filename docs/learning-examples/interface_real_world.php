<?php

/**
 * 🔌 現実世界の例：電化製品とコンセント
 */

echo "=== 🔌 現実世界の例：電化製品とコンセント ===\n\n";

echo "【問題】\n";
echo "あなたは掃除機を使いたいです。\n";
echo "でも、家によって電源の形が違ったらどうしますか？\n\n";

echo "❌ 悪い例：掃除機が特定の家に依存\n";
echo "┌─────────────────┐\n";
echo "│ 田中家専用掃除機     │\n";
echo "│ ・田中家でしか使えない │\n";
echo "│ ・佐藤家では使えない   │\n";
echo "└─────────────────┘\n";
echo "        ↓ 直接接続\n";
echo "┌─────────────────┐\n";
echo "│ 田中家の電源コンセント │\n";
echo "└─────────────────┘\n\n";

echo "問題点：\n";
echo "・掃除機が特定の家に依存している\n";
echo "・他の家では使えない\n";
echo "・家を変えるたびに掃除機も変える必要がある\n\n";

echo "✅ 良い例：標準コンセント（インターフェース）\n";
echo "┌─────────────────┐\n";
echo "│ どこでも使える掃除機   │\n";
echo "│ ・田中家でも使える     │\n";
echo "│ ・佐藤家でも使える     │\n";
echo "└─────────────────┘\n";
echo "        ↓ 標準プラグで接続\n";
echo "┌─────────────────┐\n";
echo "│ 標準コンセント         │ ← これが「インターフェース」\n";
echo "│ （どの家でも同じ形）   │\n";
echo "└─────────────────┘\n";
echo "        ↓ 各家で実装\n";
echo "┌─────────────────┐   ┌─────────────────┐\n";
echo "│ 田中家の電源システム   │   │ 佐藤家の電源システム   │\n";
echo "│ （東京電力）           │   │ （関西電力）           │\n";
echo "└─────────────────┘   └─────────────────┘\n\n";

echo "利点：\n";
echo "✓ 掃除機はどの家でも使える\n";
echo "✓ 電力会社が変わっても掃除機は変更不要\n";
echo "✓ 新しい家でもすぐに使える\n\n";

echo "=== 🎯 プログラムでも同じ！ ===\n\n";

echo "❌ 悪い例：ユースケースが特定のデータベースに依存\n";
echo "┌─────────────────┐\n";
echo "│ 本登録ユースケース     │\n";
echo "│ ・MySQLでしか動かない  │\n";
echo "│ ・PostgreSQLでは動かない│\n";
echo "└─────────────────┘\n";
echo "        ↓ 直接依存\n";
echo "┌─────────────────┐\n";
echo "│ MySQLリポジトリ        │\n";
echo "└─────────────────┘\n\n";

echo "✅ 良い例：リポジトリインターフェース\n";
echo "┌─────────────────┐\n";
echo "│ 本登録ユースケース     │\n";
echo "│ ・どのDBでも動く       │\n";
echo "│ ・テストでも動く       │\n";
echo "└─────────────────┘\n";
echo "        ↓ インターフェースに依存\n";
echo "┌─────────────────┐\n";
echo "│ BookRepositoryInterface│ ← これが「インターフェース」\n";
echo "│ （保存方法の約束事）   │\n";
echo "└─────────────────┘\n";
echo "        ↓ 各DBで実装\n";
echo "┌─────────────────┐   ┌─────────────────┐\n";
echo "│ MySQLリポジトリ        │   │ PostgreSQLリポジトリ   │\n";
echo "│ （MySQL用の実装）      │   │ （PostgreSQL用の実装） │\n";
echo "└─────────────────┘   └─────────────────┘\n";
